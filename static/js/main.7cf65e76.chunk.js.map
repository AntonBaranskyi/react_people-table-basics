{"version":3,"sources":["components/PersonLink/PersonLink.tsx","components/NavBar/NavBar.tsx","App.tsx","pages/HomePage.tsx","components/Loader/Loader.tsx","api.ts","components/PeopleTable/PeopleTable.tsx","pages/PeoplePage.tsx","pages/NotFoundPage.tsx","Root.tsx","index.tsx"],"names":["fatherObj","motherObj","getLinkClass","_ref","isActive","classNames","NavBar","_jsx","className","role","children","_jsxs","NavLink","to","App","Outlet","HomePage","Loader","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PersonLink","people","findPerson","slug","useParams","motherName","fatherName","Link","sex","name","born","died","PeopleTable","peoples","find","map","PeoplePage","_useState","useState","_useState2","_slicedToArray","setPeoples","_useState3","_useState4","peopleLoading","setPeopleLoading","_useState5","_useState6","peopleError","setPeopleError","useEffect","peopleFromServer","catch","finally","_Fragment","length","NotFoundPage","Root","Router","Routes","Route","path","element","index","Navigate","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.7cf65e76.chunk.js","sourcesContent":["/* eslint-disable no-nested-ternary */\r\nimport React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { Person } from '../../types';\r\n\r\ntype Props = {\r\n  people: Person;\r\n  findPerson: (name: string) => Person | null;\r\n};\r\n\r\nlet fatherObj: Person | null;\r\n\r\nlet motherObj: Person | null;\r\n\r\nexport const PersonLink: React.FC<Props> = ({ people, findPerson }) => {\r\n  const { slug } = useParams();\r\n\r\n  if (people.motherName) {\r\n    motherObj = findPerson(people.motherName);\r\n  }\r\n\r\n  if (people.fatherName) {\r\n    fatherObj = findPerson(people.fatherName);\r\n  }\r\n\r\n  return (\r\n    <tr\r\n      data-cy=\"person\"\r\n      className={classNames({ 'has-background-warning': people.slug === slug })}\r\n    >\r\n      <td>\r\n        <Link\r\n          className={classNames({\r\n            'has-text-danger': people.sex === 'f',\r\n          })}\r\n          to={people.slug}\r\n        >\r\n          {people.name}\r\n        </Link>\r\n      </td>\r\n\r\n      <td>{people.sex}</td>\r\n      <td>{people.born}</td>\r\n      <td>{people.died}</td>\r\n      <td>\r\n        {people.motherName ? (\r\n          motherObj ? (\r\n            <Link\r\n              className={classNames({\r\n                'has-text-danger': motherObj.sex === 'f',\r\n              })}\r\n              to={motherObj.slug}\r\n            >\r\n              {people.motherName}\r\n            </Link>\r\n          ) : (\r\n            people.motherName\r\n          )\r\n        ) : (\r\n          '-'\r\n        )}\r\n      </td>\r\n      <td>\r\n        {people.fatherName ? (\r\n          fatherObj ? (\r\n            <Link\r\n              className={classNames({\r\n                'has-text-danger': fatherObj.sex === 'f',\r\n              })}\r\n              to={fatherObj.slug}\r\n            >\r\n              {people.fatherName || '-'}\r\n            </Link>\r\n          ) : (\r\n            people.fatherName || '-'\r\n          )\r\n        ) : (\r\n          '-'\r\n        )}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n","/* eslint-disable max-len */\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst getLinkClass = ({ isActive }: { isActive: boolean }) => classNames({ 'navbar-item': true, 'has-background-grey-lighter': isActive });\r\n\r\nexport const NavBar: React.FC = () => {\r\n  return (\r\n    <nav\r\n      data-cy=\"nav\"\r\n      className=\"navbar is-fixed-top has-shadow\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <NavLink to=\"/\" className={getLinkClass}>\r\n            Home\r\n          </NavLink>\r\n\r\n          <NavLink to=\"/people\" className={getLinkClass}>\r\n            People\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import { Outlet } from 'react-router-dom';\r\n\r\nimport { NavBar } from './components/NavBar';\r\nimport './App.scss';\r\n\r\nexport const App = () => (\r\n  <div data-cy=\"app\">\r\n    <NavBar />\r\n\r\n    <main className=\"section\">\r\n      <div className=\"container\">\r\n        <Outlet />\r\n      </div>\r\n    </main>\r\n  </div>\r\n);\r\n","import React from 'react';\r\n\r\nexport const HomePage: React.FC = () => {\r\n  return <h1 className=\"title\">Home Page</h1>;\r\n};\r\n","import './Loader.scss';\r\n\r\nexport const Loader = () => (\r\n  <div className=\"Loader\" data-cy=\"loader\">\r\n    <div className=\"Loader__content\" />\r\n  </div>\r\n);\r\n","import { Person } from './types/Person';\r\n\r\n// eslint-disable-next-line max-len\r\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\r\n\r\nfunction wait(delay: number) {\r\n  return new Promise(resolve => setTimeout(resolve, delay));\r\n}\r\n\r\nexport function getPeople(): Promise<Person[]> {\r\n  // keep this delay for testing purpose\r\n  return wait(500)\r\n    .then(() => fetch(API_URL))\r\n    .then(response => response.json());\r\n}\r\n","import React from 'react';\r\nimport { Person } from '../../types';\r\nimport { PersonLink } from '../PersonLink';\r\n\r\ntype Props = {\r\n  peoples: Person[];\r\n};\r\n\r\nexport const PeopleTable: React.FC<Props> = ({ peoples }) => {\r\n  const findPerson = (name: string) => {\r\n    return peoples.find((people) => people.name === name) || null;\r\n  };\r\n\r\n  return (\r\n    <table\r\n      data-cy=\"peopleTable\"\r\n      className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Sex</th>\r\n          <th>Born</th>\r\n          <th>Died</th>\r\n          <th>Mother</th>\r\n          <th>Father</th>\r\n        </tr>\r\n      </thead>\r\n\r\n      <tbody>\r\n        {peoples.map((people) => (\r\n          <PersonLink\r\n            key={people.slug}\r\n            people={people}\r\n            findPerson={findPerson}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Loader } from '../components/Loader';\r\nimport { Person } from '../types';\r\nimport { getPeople } from '../api';\r\nimport { PeopleTable } from '../components/PeopleTable';\r\n\r\nexport const PeoplePage: React.FC = () => {\r\n  const [peoples, setPeoples] = useState<Person[]>([]);\r\n  const [peopleLoading, setPeopleLoading] = useState(false);\r\n  const [peopleError, setPeopleError] = useState('');\r\n\r\n  useEffect(() => {\r\n    setPeopleLoading(true);\r\n    getPeople()\r\n      .then((peopleFromServer) => setPeoples(peopleFromServer))\r\n      .catch(() => {\r\n        setPeopleError('Something went wrong');\r\n      })\r\n      .finally(() => setPeopleLoading(false));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"title\">People Page</h1>\r\n\r\n      <div className=\"block\">\r\n        <div className=\"box table-container\">\r\n          {!peopleError && !peopleLoading && peoples.length === 0 && (\r\n            <p data-cy=\"noPeopleMessage\">There are no people on the server</p>\r\n          )}\r\n          {peopleError && (\r\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\r\n              {peopleError}\r\n            </p>\r\n          )}\r\n          {peopleLoading ? <Loader /> : <PeopleTable peoples={peoples} />}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const NotFoundPage: React.FC = () => {\r\n  return <h1 className=\"title\">Page not found</h1>;\r\n};\r\n","import {\r\n  Navigate,\r\n  Route,\r\n  HashRouter as Router,\r\n  Routes,\r\n} from 'react-router-dom';\r\nimport { App } from './App';\r\nimport { HomePage } from './pages/HomePage';\r\nimport { PeoplePage } from './pages/PeoplePage';\r\nimport { NotFoundPage } from './pages/NotFoundPage';\r\n\r\nexport const Root = () => (\r\n  <Router>\r\n    <Routes>\r\n      <Route path=\"/\" element={<App />}>\r\n        <Route index element={<HomePage />} />\r\n        <Route path=\"people\" element={<PeoplePage />}>\r\n          <Route path=\":slug\" element={<PeoplePage />} />\r\n        </Route>\r\n        <Route path=\"*\" element={<NotFoundPage />} />\r\n        <Route path=\"home\" element={<Navigate to=\"/\" />} />\r\n      </Route>\r\n    </Routes>\r\n  </Router>\r\n);\r\n","import { createRoot } from 'react-dom/client';\r\n\r\nimport 'bulma/css/bulma.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\n\r\nimport { Root } from './Root';\r\n\r\ncreateRoot(document.getElementById('root') as HTMLDivElement).render(<Root />);\r\n"],"sourceRoot":""}